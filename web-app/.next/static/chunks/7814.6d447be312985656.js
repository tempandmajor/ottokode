"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7814],{7814:function(e,t,n){n.d(t,{aiService:function(){return d}});var r=n(9226),o=n(9792);class i{get isAvailable(){return!!this.apiKey&&!this.apiKey.includes("PLACEHOLDER")}async generateResponse(e){if(!this.isAvailable)throw Error("OpenAI API key not configured");try{var t,n;let r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer ".concat(this.apiKey),"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4",messages:e,max_tokens:1e3,temperature:.7})});if(!r.ok)throw Error("OpenAI API error: ".concat(r.statusText));let o=await r.json(),i=(null===(n=o.choices[0])||void 0===n?void 0:null===(t=n.message)||void 0===t?void 0:t.content)||"No response generated";return{content:i,provider:"OpenAI",codeSnippet:this.extractCodeSnippet(i)}}catch(e){throw console.error("OpenAI API error:",e),e}}extractCodeSnippet(e){let t=e.match(/```[\w]*\n([\s\S]*?)\n```/);return t?t[1]:void 0}constructor(e){this.name="OpenAI",this.apiKey=e}}class a{get isAvailable(){return!!this.apiKey&&!this.apiKey.includes("PLACEHOLDER")}async generateResponse(e){if(!this.isAvailable)throw Error("Anthropic API key not configured");try{var t,n;let r=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:1e3,messages:e.filter(e=>"system"!==e.role),system:null===(t=e.find(e=>"system"===e.role))||void 0===t?void 0:t.content})});if(!r.ok)throw Error("Anthropic API error: ".concat(r.statusText));let o=await r.json(),i=(null===(n=o.content[0])||void 0===n?void 0:n.text)||"No response generated";return{content:i,provider:"Anthropic",codeSnippet:this.extractCodeSnippet(i)}}catch(e){throw console.error("Anthropic API error:",e),e}}extractCodeSnippet(e){let t=e.match(/```[\w]*\n([\s\S]*?)\n```/);return t?t[1]:void 0}constructor(e){this.name="Anthropic",this.apiKey=e}}class s{async generateResponse(e){var t,n;await new Promise(e=>setTimeout(e,1e3+2e3*Math.random()));let r=(null===(n=e[e.length-1])||void 0===n?void 0:null===(t=n.content)||void 0===t?void 0:t.toLowerCase())||"";if(r.includes("function")||r.includes("create"))return{content:"I can help you create a function! Here's a template with TypeScript types and error handling:",provider:"Mock",codeSnippet:"function processData(data: any[]): any[] {\n  try {\n    if (!Array.isArray(data)) {\n      throw new Error('Input must be an array');\n    }\n\n    const result = data.map(item => {\n      // Add your processing logic\n      return item;\n    });\n\n    return result;\n  } catch (error) {\n    console.error('Error processing data:', error);\n    throw error;\n  }\n}"};if(r.includes("react")||r.includes("component"))return{content:"Here's a modern React component with TypeScript:",provider:"Mock",codeSnippet:'interface MyComponentProps {\n  title: string;\n  description?: string;\n  onAction?: () => void;\n}\n\nexport function MyComponent({ title, description, onAction }: MyComponentProps) {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleClick = async () => {\n    setIsLoading(true);\n    try {\n      await onAction?.();\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className="p-4 bg-card rounded-lg border">\n      <h2 className="text-lg font-semibold">{title}</h2>\n      {description && (\n        <p className="text-muted-foreground mt-2">{description}</p>\n      )}\n      <Button onClick={handleClick} disabled={isLoading} className="mt-4">\n        {isLoading ? \'Loading...\' : \'Action\'}\n      </Button>\n    </div>\n  );\n}'};let o=["I'd be happy to help with that! Can you provide more details about what you're trying to accomplish?","That's an interesting question! Here's what I would suggest based on best practices...","Great question! Let me break this down for you with some practical examples.","I can definitely help with that. Here's a clean and efficient approach:"];return{content:o[Math.floor(Math.random()*o.length)],provider:"Mock"}}constructor(){this.name="Mock",this.isAvailable=!0}}class l{initializeProviders(){try{let e=function(){var e,t,n,i;let a="your_supabase_url_here",s="your_supabase_anon_key_here",l=o.env.NEXT_PUBLIC_APP_NAME||"Ottokode",c=o.env.NEXT_PUBLIC_APP_VERSION||"1.0.0",p=o.env.NEXT_PUBLIC_APP_DOMAIN||"https://ottokode.com";if(!a)throw Error("NEXT_PUBLIC_SUPABASE_URL is required");if(!s)throw Error("NEXT_PUBLIC_SUPABASE_ANON_KEY is required");let d={supabase:{url:a||"https://placeholder.supabase.co",anonKey:s||"placeholder_anon_key"},app:{name:l,version:c,domain:p}};(d.supabase.url.includes("your-project")||d.supabase.url.includes("placeholder"))&&console.warn("⚠️ Supabase URL appears to be a placeholder"),(d.supabase.anonKey.includes("placeholder")||d.supabase.anonKey.length<10)&&console.warn("⚠️ Supabase anon key appears to be a placeholder");let u={...d,ai:{openai:"your_openai_key_here".includes("PLACEHOLDER")?void 0:"your_openai_key_here",anthropic:"your_anthropic_key_here".includes("PLACEHOLDER")?void 0:"your_anthropic_key_here",google:(null===(e=o.env.NEXT_PUBLIC_GOOGLE_AI_API_KEY)||void 0===e?void 0:e.includes("PLACEHOLDER"))?void 0:o.env.NEXT_PUBLIC_GOOGLE_AI_API_KEY,cohere:(null===(t=o.env.NEXT_PUBLIC_COHERE_API_KEY)||void 0===t?void 0:t.includes("PLACEHOLDER"))?void 0:o.env.NEXT_PUBLIC_COHERE_API_KEY,mistral:(null===(n=o.env.NEXT_PUBLIC_MISTRAL_API_KEY)||void 0===n?void 0:n.includes("PLACEHOLDER"))?void 0:o.env.NEXT_PUBLIC_MISTRAL_API_KEY},stripe:(null===(i=o.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)||void 0===i?void 0:i.includes("PLACEHOLDER"))?void 0:{publishableKey:o.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY},features:{debug:"true"===o.env.NEXT_PUBLIC_DEBUG_MODE,analytics:"true"===o.env.NEXT_PUBLIC_ENABLE_ANALYTICS,enterprise:"true"===o.env.NEXT_PUBLIC_ENABLE_ENTERPRISE_FEATURES,collaboration:"true"===o.env.NEXT_PUBLIC_ENABLE_COLLABORATION,aiChat:"true"===o.env.NEXT_PUBLIC_ENABLE_AI_CHAT}};return r.kg.debug("Environment Configuration",{hasSupabase:!!u.supabase.url&&!!u.supabase.anonKey,hasAIKeys:Object.values(u.ai).some(e=>!!e),hasStripe:!!u.stripe,features:u.features}),u}();e.ai.openai&&this.providers.push(new i(e.ai.openai)),e.ai.anthropic&&this.providers.push(new a(e.ai.anthropic)),r.kg.ai("AI Providers initialized",{available:this.providers.filter(e=>e.isAvailable).map(e=>e.name),total:this.providers.length})}catch(e){r.kg.warn("Error initializing AI providers",e)}}async generateResponse(e){let t=this.providers.filter(e=>e.isAvailable);if(0===t.length)return r.kg.ai("No AI providers available, using mock responses"),this.fallbackProvider.generateResponse(e);for(let n of t)try{return await n.generateResponse(e)}catch(e){r.kg.warn("".concat(n.name," provider failed"),e);continue}return r.kg.ai("All AI providers failed, using mock responses"),this.fallbackProvider.generateResponse(e)}getAvailableProviders(){return this.providers.filter(e=>e.isAvailable).map(e=>e.name)}hasRealProviders(){return this.providers.some(e=>e.isAvailable)}constructor(){this.providers=[],this.fallbackProvider=new s,this.initializeProviders()}}let c=null;function p(){return c||(c=new l),c}let d={get generateResponse(){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return p().generateResponse(...t)}},get getAvailableProviders(){return()=>p().getAvailableProviders()},get hasRealProviders(){return()=>p().hasRealProviders()}}},9226:function(e,t,n){var r,o;n.d(t,{kg:function(){return a}}),(o=r||(r={}))[o.DEBUG=0]="DEBUG",o[o.INFO=1]="INFO",o[o.WARN=2]="WARN",o[o.ERROR=3]="ERROR";class i{shouldLog(e){return e>=this.minLevel}formatMessage(e,t,n){if(!this.shouldLog(r[e]))return;let o=new Date().toISOString(),i="[".concat(o,"] ").concat(e,":");void 0!==n?console[e.toLowerCase()](i,t,n):console[e.toLowerCase()](i,t)}debug(e,t){this.isDevelopment&&this.formatMessage("DEBUG",e,t)}info(e,t){this.formatMessage("INFO",e,t)}warn(e,t){this.formatMessage("WARN",e,t)}error(e,t){this.formatMessage("ERROR",e,t),this.isDevelopment}ai(e,t){this.debug("\uD83E\uDD16 ".concat(e),t)}time(e){this.isDevelopment&&console.time(e)}timeEnd(e){this.isDevelopment&&console.timeEnd(e)}constructor(){this.isDevelopment=!1,this.minLevel=this.isDevelopment?0:2}}let a=new i,{debug:s,info:l,warn:c,error:p,ai:d}=a}}]);